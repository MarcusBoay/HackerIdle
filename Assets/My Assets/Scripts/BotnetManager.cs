using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class BotnetManager : MonoBehaviour {

    public int numberOfUpgrades; //reference this in the botnet script
    public int numberOfBotnets;
    public int[] pointsValue;
    public int botnetCost;
    public int upgradeCost;

    private GameObject GM;
    
	void Start () {
        GM = GameObject.Find("GameManager").gameObject;
        StartCoroutine(BotnetPointGiver());
	}
	
	// Update is called once per frame
	void Update () {
        
	}

    IEnumerator BotnetPointGiver()
    {
        yield return new WaitForSeconds(1);
        while (true)
        {
            //give player points generated by botnet
            GM.GetComponent<ScoreManager>().points += pointsValue[numberOfUpgrades] * numberOfBotnets;
            //wait 1 second before giving player points generated by botnet
            yield return new WaitForSeconds(1); //1 second may be placeholder value
        }
    }

    public void IncreaseNumberOfBotnets()
    {
        //checks if the player has enough points to buy a botnet
        if (GM.GetComponent<ScoreManager>().points >= botnetCost)
        {
            //decrease player's points by 1 botnet cost
            GM.GetComponent<ScoreManager>().points -= botnetCost;
            //increase player's number of botnets
            numberOfBotnets += 1;
        }
    }
}
